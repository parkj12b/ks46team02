<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks46team02.admin.mapper.MemberLevelMapper">
<resultMap type="MemberLevel" id="memberLevelResultMap">
		<id 	column="position_level_code"  							property="positionLevelCode" />
		<result	column="member_level_name"  						property="memberLevelName" />
		<result	column="company_reg_date"  						property="compayRegDate" />
		<result	column="admin_id"  						property="adminId" />
		<result	column="member_management"  							property="memberManagement" />
		<result	column="contract_management"  						property="contractManagement" />
		<result	column="payment_management"  						property="paymentManagement" />
		<result	column="company_info_management"  						property="companyInfoManagement" />
		<result	column="mento_mentee_management"  						property="mentoMenteeManagement" />
</resultMap>
		
	<select id="getMemberLevelList" parameterType="String" resultMap="memberLevelResultMap">
				/* 회원 등급 조회 */
				SELECT 
					position_level_code, 
					member_level_name, 
					company_reg_date, 
					admin_id, 
					CASE WHEN member_management = 1 THEN 'O' ELSE 'X' END AS member_management,
					CASE WHEN contract_management = 1 THEN 'O' ELSE 'X' END AS contract_management,
					CASE WHEN payment_management = 1 THEN 'O' ELSE 'X' END AS payment_management,
					CASE WHEN company_info_management = 1 THEN 'O' ELSE 'X' END AS company_info_management,
					CASE WHEN mento_mentee_management = 1 THEN 'O' ELSE 'X' END AS mento_mentee_management
				FROM 
					company_position_level;

					
	</select>
	
	
</mapper>