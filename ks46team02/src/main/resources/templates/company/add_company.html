<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/mypage}">
<head>
    <meta charset="UTF-8">
    <title>BSFP</title>
</head>
<th:block layout:fragment="customJs">
<script th:src="@{/js/jquery-3.6.4.min.js}"></script>
<script>
    $(function(){
        function validationCheck(ele){
            let data = $(ele).val();
            let isValid = true;
            if(typeof data == 'undefined' || data == null || data == ''){
                isValid = false;
            }
            return isValid;
        }

        $('#submitBtn').click(function (){
            const addCompanyForm = $('#addCompanyForm');
            const inputGroup = $('#addCompanyForm input');
            let isSubmit = true;
            inputGroup.each(function (idx, item){
                isSubmit = validationCheck(item);
                if(!isSubmit){
                    let msg = $(item).parents('tr').find('label').text();
                    alert(msg + '입력해주세요.');
                    $(item).focus();
                    return false;
                }
            });
            if(isSubmit) addCompanyForm.submit();
        })

    });
</script>
</th:block>
<body>
<th:block layout:fragment="customContent">
    <div class="x_panel">
        <div class="x_title">
            <h1>업체등록</h1>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <br/>
            <form id="addCompanyForm" class="form-horizontal form-label-left" th:action="@{/company/company_add}" method="post">
                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 " for="companyType">업체종류</label>
                    <div class="col-md-9 col-sm-9 ">
                        <select id="companyType" name="companyType" class="form-control">
                            <th:block th:unless="${companyTypeList == null}" th:each="l : ${companyTypeList}">
                                <option th:value="${l.companyTypeNum}">[[${l.companyType}]]</option>
                            </th:block>
                            <th:block th:if="${companyTypeList == null}" >
                                <option>등록된 업체종류가 없습니다</option>
                            </th:block>
                        </select>
                    </div>
                </div>
                <div class="form-group row ">
                    <label class="control-label col-md-3 col-sm-3 " for="companyRegNum">사업자등록번호</label>
                    <div class="col-md-9 col-sm-9 ">
                        <input type="text" id="companyRegNum" name="companyRegNum" class="form-control" placeholder="사업자등록번호를 입력해주세요.">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 " for="companyTel">전화번호 </label>
                    <div class="col-md-9 col-sm-9 ">
                        <input type="text" id="companyTel" name="companyTel" class="form-control" placeholder="전화번호를 입력해주세요.">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 " for="companyAddr">업체주소</label>
                    <div class="col-md-9 col-sm-9 ">
                        <input type="text" id="companyAddr" name="companyAddr" class="form-control" placeholder="업체주소를 입력해주세요.">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 " for="companyName">업체명</label>
                    <div class="col-md-9 col-sm-9 ">
                        <input type="text" id="companyName" name="companyName" class="form-control" placeholder="업체명을 입력해주세요">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 " for="regPassword">사원등록 비밀번호</label>
                    <div class="col-md-9 col-sm-9 ">
                        <input type="text" id="regPassword" name="regPassword" class="form-control" placeholder="사원등록 비밀번호를 입력해주세요."/>
                    </div>
                </div>
                <div class="ln_solid"></div>
                <div class="form-group">
                    <div class="col-md-9 col-sm-9  offset-md-3">
                        <button type="button" class="btn btn-dark">취소</button>
                        <button type="reset" class="btn btn-dark">초기화</button>
                        <button type="button" id="submitBtn" class="btn btn-dark">등록</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</th:block>

</body>
</html>